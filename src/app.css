@import 'tailwindcss';
@plugin '@tailwindcss/forms';
@plugin '@tailwindcss/typography';

@utility no-scrollbar {
	@apply [scrollbar-width:none] [&::-webkit-scrollbar]:hidden;
}

@utility mini-scrollbar {
	@apply [scrollbar-color:rgba(156,163,175,0.4)_transparent] [scrollbar-width:thin];

	&::-webkit-scrollbar {
		width: 4px !important;
		height: 4px !important;
		background: transparent !important;
	}

	&::-webkit-scrollbar-track {
		background: transparent !important;
		border: none !important;
		margin: 0 !important;
		padding: 0 !important;
	}

	&::-webkit-scrollbar-thumb {
		background: rgba(156, 163, 175, 0.3) !important;
		border-radius: 2px !important;
		border: none !important;
		min-height: 30px !important;
	}

	&:hover::-webkit-scrollbar-thumb {
		background: rgba(156, 163, 175, 0.5) !important;
	}

	&::-webkit-scrollbar-thumb:active {
		background: rgba(156, 163, 175, 0.7) !important;
	}

	&::-webkit-scrollbar-thumb {
		opacity: 0.3;
		transition: opacity 0.2s ease;
	}

	&:hover::-webkit-scrollbar-thumb {
		opacity: 0.6;
	}
}

@utility frosted-glass {
	backdrop-filter: blur(5px) !important; /*Was removed in build so force it to keep it*/
	-webkit-backdrop-filter: blur(5px);
	border: 1px solid rgba(255, 255, 255, 0.059);
	box-shadow:
		inset 0 1px 10px rgba(255, 255, 255, 0.133),
		inset 0 -1px 10px rgba(255, 255, 255, 0.113);
}

@utility frosted-glass-shadow {
	backdrop-filter: blur(5px) !important; /*Was removed in build so force it to keep it*/
	-webkit-backdrop-filter: blur(5px);
	border: 1px solid rgba(255, 255, 255, 0.059);
	box-shadow:
		inset 0 1px 10px rgba(255, 255, 255, 0.133),
		inset 0 -1px 10px rgba(255, 255, 255, 0.113),
		0 20px 25px -5px rgb(0 0 0 / 0.1),
		0 8px 10px -6px rgb(0 0 0 / 0.1);
}

@layer components {
	[data-tooltip]:not([data-tooltip='false']) {
		@apply relative;
	}

	[data-tooltip]:not([data-tooltip='false']):before,
	[data-tooltip]:not([data-tooltip='false']):after {
		@apply pointer-events-none invisible opacity-0;
		transition: all 0.2s ease-out;
		transition-delay: var(--tooltip-delay, 500ms);
		transform: translate(-50%, 5px);
	}

	/* Tooltip content */
	[data-tooltip]:not([data-tooltip='false']):before {
		content: attr(data-tooltip);
		@apply absolute top-full left-1/2 z-50 mb-2 px-2 py-1;
		@apply max-w-xs min-w-max whitespace-nowrap;
		@apply rounded-4xl bg-gray-700/80 text-center text-sm text-white;
		@apply shadow-lg;

		isolation: isolate;
		backdrop-filter: blur(5px) !important; /*Was removed in build so force it to keep it*/
		-webkit-backdrop-filter: blur(5px);
		border: 1px solid rgba(255, 255, 255, 0.059);
		box-shadow:
			inset 0 1px 10px rgba(255, 255, 255, 0.133),
			inset 0 -1px 10px rgba(255, 255, 255, 0.113);
	}

	/* Tooltip arrow */
	[data-tooltip]:not([data-tooltip='false']):after {
		content: '';
		@apply absolute top-full left-1/2 z-50;
		border-left: 5px solid transparent;
		border-right: 5px solid transparent;
		border-bottom: 5px solid rgba(31, 41, 55, 0.4);
		margin-top: -5px;
	}

	/* Show tooltip on hover with delay */
	[data-tooltip]:not([data-tooltip='false']):hover:before,
	[data-tooltip]:not([data-tooltip='false']):hover:after {
		@apply visible opacity-100;
		transform: translate(-50%, 0);
	}

	/* Hide immediately when not hovering */
	[data-tooltip]:not([data-tooltip='false']):not(:hover):before,
	[data-tooltip]:not([data-tooltip='false']):not(:hover):after {
		transition-delay: 0ms;
	}

	[data-tooltip]:not([data-tooltip='false']):hover
		[data-tooltip]:not([data-tooltip='false']):hover
		~ :before,
	[data-tooltip]:not([data-tooltip='false']):hover
		[data-tooltip]:not([data-tooltip='false']):hover
		~ :after,
	[data-tooltip]:not([data-tooltip='false']):has([data-tooltip]:hover):before,
	[data-tooltip]:not([data-tooltip='false']):has([data-tooltip]:hover):after {
		@apply invisible opacity-0;
	}
}
